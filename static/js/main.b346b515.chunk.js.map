{"version":3,"sources":["assets/icons/search.svg","StateManager/movieList.store.ts","StateManager/store.config.ts","StateManager/useActions.ts","StateManager/Store.tsx","theme.tsx","Components/Box.tsx","Features/MovieList/MovieList.tsx","Features/MovieList/createMovieList.tsx","useDebounce.ts","Features/Header/Header.tsx","DataService.ts","App.tsx","Features/Header/createHeader.tsx","index.tsx"],"names":["_title","_desc","_g","movieListReducer","state","action","payload","type","searchResults","movies","total","searchTerm","term","page","movieListActions","setMovies","setSearchTerm","setPage","initialState","movieList","reducer","useMovieListActions","dispatch","actionList","actions","args","Object","keys","useActions","useMyActions","StateContext","createContext","StateProvider","children","Provider","value","useReducer","StateManager","props","useStore","useContext","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref","svgRef","title","createElement","width","height","viewBox","ref","undefined","id","stroke","strokeWidth","fill","fillRule","transform","points","d","ForwardRef","forwardRef","colors","red","yellow","green","white","black","grayLighter","grayLight","gray","grayDark","darken","color","find","lighten","Icons","rest","css","Flex","Col","align","valign","Row","Theme","Button","Wrapper","DateTitle","Box","item","Title","Year","Poster","src","alt","EmptyList","BusyIndicator","Untouched","Error","error","MovieList","useMovieListContext","myRef","useRef","busy","nextPage","empty","untouched","map","onClick","current","scrollIntoView","createMovieList","DataService","useState","setBusy","setError","fetchMovies","debouncedSearchTerm","delay","debouncedValue","setDebouncedValue","useEffect","handler","setTimeout","clearTimeout","useDebounce","a","trim","asyncEff","href","SearchInput","placeholder","Header","useHeaderContext","search","onChange","e","fetch","encodeURIComponent","res","json","data","Response","Search","totalResults","console","log","createHeader","ReactDOM","render","StrictMode","App","document","getElementById"],"mappings":"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","file":"static/js/main.b346b515.chunk.js","sourcesContent":["var _title, _desc, _g;\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport React from \"react\";\n\nvar SvgSearch = function SvgSearch(_ref) {\n  var svgRef = _ref.svgRef,\n      title = _ref.title,\n      props = _objectWithoutProperties(_ref, [\"svgRef\", \"title\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"17px\",\n    height: \"18px\",\n    viewBox: \"0 0 17 18\",\n    ref: svgRef\n  }, props), title === undefined ? _title || (_title = /*#__PURE__*/React.createElement(\"title\", null, \"search\")) : title ? /*#__PURE__*/React.createElement(\"title\", null, title) : null, _desc || (_desc = /*#__PURE__*/React.createElement(\"desc\", null, \"Created with Sketch.\")), _g || (_g = /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Icons\",\n    stroke: \"none\",\n    strokeWidth: 1,\n    fill: \"none\",\n    fillRule: \"evenodd\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Rounded\",\n    transform: \"translate(-545.000000, -421.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"Action\",\n    transform: \"translate(100.000000, 100.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", {\n    id: \"-Round-/-Action-/-search\",\n    transform: \"translate(442.000000, 318.000000)\"\n  }, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n    id: \"Path\",\n    points: \"0 0 24 0 24 24 0 24\"\n  }), /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M15.5,14 L14.71,14 L14.43,13.73 C15.63,12.33 16.25,10.42 15.91,8.39 C15.44,5.61 13.12,3.39 10.32,3.05 C6.09,2.53 2.53,6.09 3.05,10.32 C3.39,13.12 5.61,15.44 8.39,15.91 C10.42,16.25 12.33,15.63 13.73,14.43 L14,14.71 L14,15.5 L18.25,19.75 C18.66,20.16 19.33,20.16 19.74,19.75 C20.15,19.34 20.15,18.67 19.74,18.26 L15.5,14 Z M9.5,14 C7.01,14 5,11.99 5,9.5 C5,7.01 7.01,5 9.5,5 C11.99,5 14,7.01 14,9.5 C14,11.99 11.99,14 9.5,14 Z\",\n    id: \"\\\\uD83D\\\\uDD39Icon-Color\",\n    fill: \"#eae6cb\"\n  }))))))));\n};\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(function (props, ref) {\n  return /*#__PURE__*/React.createElement(SvgSearch, _extends({\n    svgRef: ref\n  }, props));\n});\nexport default __webpack_public_path__ + \"static/media/search.306d39c6.svg\";\nexport { ForwardRef as ReactComponent };","export const defaultState = {\r\n  searchTerm: '',\r\n  searchResults: [],\r\n  total: 0,\r\n  page: 1\r\n}\r\n\r\nexport type MovieListType = {\r\n  searchTerm: string,\r\n  searchResults: Array<any>,\r\n  total: number,\r\n  page: number\r\n}\r\n\r\nexport const movieListReducer = (state: MovieListType, action: any) => {\r\n  const { payload, type } = action\r\n\r\n  switch (type) {\r\n    case 'setMovies':\r\n      return {\r\n        ...state,\r\n        searchResults: payload.movies,\r\n        total: payload.total\r\n      }\r\n    case 'setSearchTerm':\r\n      return {\r\n        ...state,\r\n        searchTerm: payload.term,\r\n        page: 1\r\n      }\r\n    case 'setPage':\r\n      return {\r\n        ...state,\r\n        page: payload\r\n      }\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport const movieListActions = {\r\n  setMovies: (payload: { movies: Array<any>, total: number }) => ({\r\n    type: 'setMovies',\r\n    payload\r\n  }),\r\n  setSearchTerm: (payload: { term: string }) => ({\r\n    type: 'setSearchTerm',\r\n    payload\r\n  }),\r\n  setPage: (payload: number) => ({\r\n    type: 'setPage',\r\n    payload\r\n  })\r\n}","import { useActions } from \"./useActions\";\r\nimport {\r\n  defaultState as movieListDefault,\r\n  movieListReducer,\r\n  movieListActions,\r\n  MovieListType,\r\n} from './movieList.store'\r\n\r\nexport const initialState = {\r\n  movieList: movieListDefault,\r\n}\r\n\r\nexport const reducer = ({ movieList }: { movieList: MovieListType }, action: { payload: any, type: string }) => ({\r\n  movieList: movieListReducer(movieList, action),\r\n})\r\n\r\nconst useMovieListActions = (dispatch: Function) => useActions(dispatch, movieListActions)\r\n\r\nexport const useMyActions = (dispatch: Function) => ({\r\n  movieList: useMovieListActions(dispatch),\r\n})\r\n\r\nexport type StoreType = {\r\n  state: {\r\n    movieList: MovieListType\r\n  },\r\n  actions: {\r\n    movieList: any\r\n  }\r\n}","export const useActions = (dispatch: Function, actionList: any) => {\r\n  let actions = {}\r\n  for (const action of Object.keys(actionList)) {\r\n    actions = {\r\n      ...actions,\r\n      [action]: (args: any) => dispatch(actionList[action](args))\r\n    }\r\n  }\r\n  return actions\r\n}\r\n","import React, { createContext, ReactNode, useContext, useReducer } from 'react';\r\nimport { initialState, reducer, useMyActions, StoreType } from './store.config'\r\n\r\nexport const StateContext = createContext<any>({});\r\n\r\nexport const StateProvider = ({ reducer, initialState, children }: { reducer: any, initialState: any, children: ReactNode }) => (\r\n  <StateContext.Provider value={useReducer(reducer, initialState)}>\r\n    {children}\r\n  </StateContext.Provider>\r\n)\r\n\r\nexport const StateManager = (props: any) => (\r\n  <StateProvider  {...{ initialState, reducer, ...props }} />\r\n)\r\n\r\nexport const useStore = (): StoreType => {\r\n  const [state, dispatch] = useContext(StateContext)\r\n  return {\r\n    state,\r\n    actions: useMyActions(dispatch),\r\n  }\r\n}\r\n\r\nexport default StateManager\r\n","/** @jsx jsx */\r\nimport { jsx, css } from '@emotion/core'\r\nimport { ReactComponent as SearchIcon } from './assets/icons/search.svg';\r\nimport { forwardRef, Ref } from 'react';\r\n\r\nexport const colors: { [key: string]: any } = {\r\n  red: '#A03A29',\r\n  yellow: '#E0993D',\r\n  green: '#2A756B',\r\n\r\n  white: '#eae6cb',\r\n  black: '#11243A',\r\n\r\n  grayLighter: '#99bdb9',\r\n  grayLight: '#808E88',\r\n  gray: '#59706E',\r\n  grayDark: '#2B3B3A',\r\n  darken: (color: any): any => colors[`${Object.keys(colors).find(key => colors[key] === color)}Dark`] || color,\r\n  lighten: (color: any) => colors[`${Object.keys(colors).find(key => colors[key] === color)}Light`] || color\r\n}\r\n\r\nexport const Icons = {\r\n  Search: ({ color = colors.white, ...rest }) =>\r\n    <SearchIcon css={css`fill: ${color}`} {...rest} />\r\n}\r\n\r\nconst Col = forwardRef(({ align = 'flex-start', valign = 'flex-start', ...props }: any, ref: Ref<null>) => (\r\n  <div\r\n    ref={ref}\r\n    css={css`\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: ${valign};\r\n    align-movies: ${align}\r\n  `} {...props} />\r\n))\r\n\r\nconst Row = ({ align = 'space-between', valign = 'flex-start', ...props }) => (\r\n  <div css={css`\r\n    display: flex;\r\n    justify-content: ${align};\r\n    align-items: ${valign};\r\n    >:last-of-type {\r\n      margin-right: 0 !important;\r\n    }\r\n  `} {...props} />\r\n)\r\n\r\nexport const Flex = {\r\n  Col,\r\n  Row\r\n}\r\n\r\nexport const Theme = (props: any) => (\r\n  <div css={css`\r\n    font-family: 'Arial';\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    background: ${colors.gray};\r\n    color: ${colors.black};\r\n    max-width: 800px;\r\n    margin: 0 auto;\r\n    position: relative;\r\n    \r\n    header {\r\n      position: fixed;\r\n      top: 0;\r\n      z-index: 1000;\r\n      width: 100%;\r\n      max-width: 800px;\r\n    }\r\n    \r\n    div {\r\n      box-sizing: border-box;\r\n    }\r\n\r\n    label {\r\n      display: inline-flex;\r\n      flex-direction: column;\r\n      color: ${colors.grayLight};\r\n      margin: 0 16px 0 0;\r\n\r\n      span:first-of-type {\r\n        min-height: 19px;\r\n      }\r\n    }\r\n\r\n    textarea, input {\r\n      background: ${colors.white};\r\n      color: ${colors.black};\r\n      border-radius: 4px;\r\n      border: 1px solid ${colors.grayLight};\r\n      padding: 6px 4px 0;\r\n      min-width: 24px;\r\n      font-size: 12px;\r\n      line-height: 16px;\r\n      font-weight: 700;\r\n\r\n      &::placeholder {\r\n        color: ${colors.gray};\r\n        font-weight: 400;\r\n      }\r\n\r\n      &:focus {\r\n        outline: ${colors.yellow} auto 1px;\r\n      }\r\n    }\r\n\r\n    input {\r\n      height: 24px;\r\n    }\r\n\r\n    input:disabled {\r\n      color: ${colors.grayLight};\r\n    }\r\n\r\n    .InputDisabled {\r\n      background: ${colors.gray};\r\n      opacity: 0.8;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      left: 0;\r\n      top: 0;\r\n    }\r\n\r\n    input[type=\"checkbox\"] {\r\n      margin: 8px 16px 20px 0;\r\n    }\r\n\r\n    h1, h2, h3, h4, h5 {\r\n      margin: 0;\r\n      font-size: 16px;\r\n      line-height: 1.25;\r\n    }\r\n\r\n    h1 {\r\n      margin-top: 4px;\r\n      font-size: 24px;\r\n    }\r\n\r\n    h2 {\r\n      font-size: 32px;\r\n      line-height: 0.75;\r\n      margin: 0 0 8px;\r\n    }\r\n\r\n    h3 {\r\n      font-size: 16px;\r\n      color: ${colors.grayDark}\r\n    }\r\n\r\n    p {\r\n      font-size: 16px;\r\n      line-height: 24px;\r\n      font-weight: 300;\r\n      margin: 0 0 8px 0;\r\n    }\r\n\r\n    a, a:visited, a:active {\r\n      color: inherit;\r\n      text-decoration: none;\r\n    }\r\n    \r\n    a:hover {\r\n      text-decoration: underline;\r\n    }\r\n\r\n    @-webkit-keyframes rotate-center {\r\n      0% {\r\n        transform: rotate(0);\r\n      }\r\n      40% {\r\n        transform: rotate(360deg);\r\n      }\r\n      100% {\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n    @keyframes rotate-center {\r\n      0% {\r\n        transform: rotate(0);\r\n      }\r\n      40% {\r\n        transform: rotate(360deg);\r\n      }\r\n      100% {\r\n        transform: rotate(360deg);\r\n      }\r\n    }\r\n  `} {...props} />\r\n)\r\n\r\nexport const Button = ({ ...rest }) => (\r\n  <button css={css`      \r\n    border-radius: 4px;\r\n    border: none;\r\n    font-weight: 500;\r\n    font-size: 12px;\r\n    background: none;\r\n    outline: none;\r\n    display: flex;\r\n    justify-content: center;\r\n    transition: transform 100ms ease-out;\r\n    padding: 8px;\r\n    cursor: pointer;\r\n    \r\n    *:active, :active {\r\n      transform: scaleX(0.97);\r\n    }\r\n\r\n    :hover svg path {\r\n      fill: white;\r\n    }\r\n  `} {...rest} />\r\n)\r\n","/** @jsx jsx */\r\nimport { jsx, css, } from '@emotion/core'\r\nimport { colors, Flex } from '../theme'\r\nimport { Movie } from '../types'\r\n\r\nconst Wrapper = (props: any) => (\r\n  <Flex.Col\r\n    valign=\"space-between\"\r\n    css={css`\r\n      background: ${colors.white};\r\n      color: ${colors.black};\r\n      padding: 0 16px;\r\n      margin: 0 0 8px 0;\r\n      border-radius: 4px;\r\n      box-shadow: 0 2px 4px 0 ${colors.grayDark}44;\r\n      position: relative;\r\n    `} {...props} />\r\n)\r\n\r\nconst DateTitle = ({ title }: { title: string }) => (\r\n  <h2 css={css`\r\n    color: ${colors.gray};\r\n    font-variant: all-small-caps;\r\n    padding-bottom: 16px;\r\n  `}>\r\n    {title}\r\n  </h2>\r\n)\r\n\r\nexport const Box = ({ item }: { item: Movie }) => {\r\n  const { Title, Year, Poster } = item || {}\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Flex.Row css={css`color: ${colors.grayLight}; margin: 8px 0; font-variant: all-small-caps; font-weight: bold`}>\r\n        <span>{Year}</span>\r\n      </Flex.Row>\r\n      {Poster !== 'N/A' && (\r\n        <div css={css`max-width: 70%; margin: 0 16px 16px 0;`}>\r\n          <img src={Poster} alt={`${Title} poster`} css={css`height: 100%`} />\r\n        </div>\r\n      )}\r\n      <DateTitle title={Title} />\r\n    </Wrapper>\r\n  )\r\n}\r\n","/** @jsx jsx */\r\nimport { useRef, forwardRef } from 'react'\r\nimport { jsx, css } from '@emotion/core'\r\nimport { Box } from '../../Components/Box'\r\nimport { colors, Button } from '../../theme'\r\nimport { Movie } from '../../types'\r\n\r\nconst Wrapper = forwardRef((props : any, ref: any) => (\r\n  <div ref={ref} css={css`\r\n  padding: 68px 4px 64px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  `} {...props} />\r\n))\r\n\r\nconst EmptyList = () => (\r\n  <span css={css`\r\n    padding: 5vh 12px;\r\n    font-weight: 700;\r\n    font-size: 32px;\r\n    line-height: 48px;\r\n    color: ${colors.white};\r\n  `}>\r\n    :(<br />Nothing found.<br />Try a different title.\r\n  </span>\r\n)\r\n\r\nconst BusyIndicator = () => (\r\n  <span css={css`\r\n  padding: 5vh 12px;\r\n  font-weight: 700;\r\n  font-size: 32px;\r\n  line-height: 48px;\r\n  color: ${colors.white};\r\n  text-align: center;\r\n  animation: rotate-center 1.6s ease-in-out 1s infinite;\r\n`}>\r\n    loading...\r\n  </span>\r\n)\r\n\r\nconst Untouched = () => (\r\n  <span css={css`\r\n  padding: 5vh 12px;\r\n  font-weight: 700;\r\n  font-size: 32px;\r\n  line-height: 48px;\r\n  color: ${colors.white};\r\n`}>\r\n    Start browsing by using the input above\r\n  </span>\r\n)\r\n\r\nconst Error = ({ error }: { error: string }) => (\r\n  <span css={css`\r\n    padding: 5vh 12px;\r\n    font-weight: 700;\r\n    font-size: 32px;\r\n    line-height: 48px;\r\n    color: ${colors.red};\r\n  `}>\r\n    :(<br />Error<br />{error}\r\n  </span>\r\n)\r\n\r\n\r\ntype MovieListContext = {\r\n  useMovieListContext: () => {\r\n    movies: Array<Movie>,\r\n    searchTerm: string,\r\n    busy: boolean,\r\n    error: string | null,\r\n    nextPage: (() => void) | null\r\n  }\r\n}\r\n\r\nexport const MovieList = ({ useMovieListContext }: MovieListContext) => {\r\n  const myRef = useRef(null as any)\r\n  const { movies, searchTerm, busy, error, nextPage } = useMovieListContext()\r\n  const empty = (!movies || !movies.length) && searchTerm && !busy && !error\r\n  const untouched = !empty && !busy && !searchTerm\r\n\r\n  const NextPage = () => (\r\n    <Button onClick={() => {\r\n      if (nextPage) {\r\n        nextPage()\r\n        myRef.current.scrollIntoView()\r\n      }\r\n    }}\r\n      css={css`\r\n        color: ${colors.yellow}; \r\n        font-weight: bold;\r\n      `}>\r\n      {!!nextPage ? 'Next page' : 'No more results'}\r\n    </Button>\r\n  )\r\n\r\n  return (\r\n    <Wrapper ref={myRef}>\r\n      {error && !busy && !untouched && <Error {...{ error }} />}\r\n      {empty && <EmptyList />}\r\n      {busy && <BusyIndicator />}\r\n      {untouched && <Untouched />}\r\n      {!untouched && movies.map((item, key) =>\r\n        <Box {...{ key, item }} />\r\n      )}\r\n      {!untouched && movies && !!movies.length && <NextPage />}\r\n    </Wrapper>\r\n  )\r\n}\r\n","import React, { useEffect, useRef, useState } from 'react'\r\nimport { useStore } from '../../StateManager/Store'\r\nimport { MovieList } from './MovieList'\r\nimport { useDebounce } from '../../useDebounce'\r\nimport { DataServiceType } from '../../DataService'\r\n\r\nconst PAGE_SIZE = 10\r\n\r\nexport const createMovieList = ({ DataService }: { DataService: DataServiceType }) => {\r\n  const useMovieListContext = () => {\r\n    const { state, actions } = useStore()\r\n    const { searchResults, searchTerm, page, total } = state.movieList\r\n    const { setPage } = actions.movieList\r\n\r\n    const [busy, setBusy] = useState(false)\r\n    const [error, setError] = useState<string | null>(null)\r\n\r\n    const fetchMovies = useRef(DataService.fetchMovies)\r\n    const setMovies = useRef(actions.movieList.setMovies)\r\n\r\n    const debouncedSearchTerm: string = useDebounce(searchTerm, 500)\r\n\r\n    useEffect(() => {\r\n      if (!debouncedSearchTerm || debouncedSearchTerm.length < 3)\r\n        return\r\n\r\n      const asyncEff = async () => {\r\n        setMovies.current({ movies: [], total: 0 })\r\n        setBusy(true)\r\n        const { movies, total, error } = await fetchMovies.current({\r\n          searchTerm: debouncedSearchTerm.trim(),\r\n          page\r\n        })\r\n        setMovies.current({ movies, total })\r\n        setError(error || null)\r\n        setBusy(false)\r\n      }\r\n      asyncEff()\r\n    }, [fetchMovies, setMovies, debouncedSearchTerm, page])\r\n\r\n    return {\r\n      movies: searchResults || [],\r\n      searchTerm: debouncedSearchTerm,\r\n      busy,\r\n      error,\r\n      nextPage: page * PAGE_SIZE < total ? (() => setPage(page + 1)) : null,\r\n    }\r\n  }\r\n\r\n  return () => <MovieList {...{ useMovieListContext }} />\r\n}\r\n","import { useState, useEffect } from 'react';\n\nexport const useDebounce = (value: any, delay: number) => {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(\n    () => {\n      const handler = setTimeout(() => {\n        setDebouncedValue(value);\n      }, delay);\n\n      return () => {\n        clearTimeout(handler);\n      };\n    },\n    [value, delay]\n  );\n\n  return debouncedValue;\n}\n","/** @jsx jsx */\r\nimport React from 'react'\r\nimport { jsx, css } from '@emotion/core'\r\nimport { colors, Button, Icons } from '../../theme'\r\n\r\nconst Wrapper = (props: any) => (\r\n  <div css={css`\r\n  background: ${colors.black};\r\n  color: ${colors.white};\r\n  padding: 12px 16px;\r\n  box-shadow: 0 0 4px #000;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  `} {...props} />\r\n)\r\n\r\nconst Title = () => (\r\n  <a href=\"/\">\r\n    <h1 css={css`\r\n      display: inline-flex;\r\n      flex-direction: column; \r\n      margin: 0;\r\n      padding: 0;\r\n      font-size: 24px;\r\n      line-height: 1.5;\r\n    `}>\r\n      movieser\r\n    </h1>\r\n  </a>\r\n)\r\n\r\nconst SearchInput = (props: any) => (\r\n  <div css={css`display: flex; align-items: center;`}>\r\n    <input type=\"text\" placeholder=\"Enter movie title...\" {...props} />\r\n    <Button>\r\n      <Icons.Search />\r\n    </Button>\r\n  </div>\r\n)\r\n\r\ntype HeaderContext = {\r\n  useHeaderContext: () => {\r\n    search: (term: string) => void,\r\n    searchTerm: string\r\n  }\r\n}\r\n\r\nexport const Header = ({ useHeaderContext }: HeaderContext) => {\r\n  const { searchTerm, search } = useHeaderContext()\r\n  return (\r\n    <Wrapper>\r\n      <Title />\r\n      <SearchInput\r\n        value={searchTerm}\r\n        onChange={(e: React.ChangeEvent<HTMLInputElement>) => search(e.target.value)}\r\n      />\r\n    </Wrapper>\r\n  )\r\n}\r\n","export const DataService: DataServiceType = {\r\n  fetchMovies: async ({ searchTerm, page = 1 }: FetchMoviesArgs) => {\r\n    if (!searchTerm) return { movies: [], total: 0 }\r\n\r\n    try {\r\n      const res = await fetch(`http://www.omdbapi.com/?s=${encodeURIComponent(searchTerm)}&page=${page}&apikey=a8d23117`)\r\n      const data = await res.json()\r\n      if (data.Response === 'True')\r\n        return { movies: data.Search, total: data.totalResults }\r\n      else return { movies: [], total: 0, error: data.Error }\r\n    } catch (error) {\r\n      console.log('fetch error')\r\n      return { movies: [], total: 0, error: 'Error while fetching data' }\r\n    }\r\n  }\r\n}\r\n\r\ntype FetchMoviesArgs = {\r\n  searchTerm: string,\r\n  page: number\r\n}\r\n\r\nexport type DataServiceType = {\r\n  fetchMovies: (props: FetchMoviesArgs) => Promise<{\r\n    movies: Array<any>,\r\n    total: number,\r\n    error?: string\r\n  }>\r\n}","import React from 'react';\r\nimport { StateManager } from './StateManager/Store'\r\nimport { Theme } from './theme';\r\nimport { createMovieList } from './Features/MovieList/createMovieList';\r\nimport { createHeader } from './Features/Header/createHeader'\r\nimport { DataService } from './DataService'\r\n\r\nexport default () => {\r\n  const MovieList = createMovieList({ DataService })\r\n  const Header = createHeader()\r\n  return (\r\n    <StateManager>\r\n      <Theme>\r\n        <header>\r\n          <Header />\r\n        </header>\r\n        <main>\r\n          <MovieList />\r\n        </main>\r\n      </Theme>\r\n    </StateManager>\r\n  )\r\n}\r\n","import React from 'react'\r\nimport { useStore } from '../../StateManager/Store'\r\nimport { Header } from './Header'\r\n\r\nexport const createHeader = () => {\r\n  const useHeaderContext = () => {\r\n    const { state, actions } = useStore()\r\n    const { searchTerm } = state.movieList\r\n\r\n    return {\r\n      searchTerm,\r\n      search: (term: string) => actions.movieList.setSearchTerm({ term })\r\n    }\r\n  }\r\n\r\n  return () => <Header {...{ useHeaderContext }} />\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}