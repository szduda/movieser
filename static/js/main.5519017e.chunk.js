(this["webpackJsonpomni-notator"]=this["webpackJsonpomni-notator"]||[]).push([[0],{11:function(e,n,t){e.exports=t(19)},19:function(e,n,t){"use strict";t.r(n);var r,a,i,c=t(0),o=t.n(c),s=t(10),l=t.n(s),u=t(4),b=t(3),f=t(6),p=function(e,n){var t=n.payload;switch(n.type){case"setMovies":return Object(b.a)(Object(b.a)({},e),{},{searchResults:t.movies,total:t.total});case"setSearchTerm":return Object(b.a)(Object(b.a)({},e),{},{searchTerm:t.term,page:1});case"setPage":return Object(b.a)(Object(b.a)({},e),{},{page:t});default:return e}},g={setMovies:function(e){return{type:"setMovies",payload:e}},setSearchTerm:function(e){return{type:"setSearchTerm",payload:e}},setPage:function(e){return{type:"setPage",payload:e}}},h={movieList:{searchTerm:"",searchResults:[],total:0,page:1}},d=function(e,n){var t=e.movieList;return{movieList:p(t,n)}},j=function(e){return function(e,n){for(var t={},r=function(){var r=i[a];t=Object(b.a)(Object(b.a)({},t),{},Object(f.a)({},r,(function(t){return e(n[r](t))})))},a=0,i=Object.keys(n);a<i.length;a++)r();return t}(e,g)},O=function(e){return{movieList:j(e)}},m=Object(c.createContext)({}),v=function(e){var n=e.reducer,t=e.initialState,r=e.children;return o.a.createElement(m.Provider,{value:Object(c.useReducer)(n,t)},r)},x=function(e){return o.a.createElement(v,Object(b.a)({initialState:h,reducer:d},e))},y=function(){var e=Object(c.useContext)(m),n=Object(u.a)(e,2),t=n[0],r=n[1];return{state:t,actions:O(r)}},w=t(2),k=t(8),E=t(1);function C(){return(C=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function L(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var R,T,S,z,D,P,M,A,I,B,N,H,J,Z,U,V,W,X,Y,q=function(e){var n=e.svgRef,t=e.title,c=L(e,["svgRef","title"]);return o.a.createElement("svg",C({width:"17px",height:"18px",viewBox:"0 0 17 18",ref:n},c),void 0===t?r||(r=o.a.createElement("title",null,"search")):t?o.a.createElement("title",null,t):null,a||(a=o.a.createElement("desc",null,"Created with Sketch.")),i||(i=o.a.createElement("g",{id:"Icons",stroke:"none",strokeWidth:1,fill:"none",fillRule:"evenodd"},o.a.createElement("g",{id:"Rounded",transform:"translate(-545.000000, -421.000000)"},o.a.createElement("g",{id:"Action",transform:"translate(100.000000, 100.000000)"},o.a.createElement("g",{id:"-Round-/-Action-/-search",transform:"translate(442.000000, 318.000000)"},o.a.createElement("g",null,o.a.createElement("polygon",{id:"Path",points:"0 0 24 0 24 24 0 24"}),o.a.createElement("path",{d:"M15.5,14 L14.71,14 L14.43,13.73 C15.63,12.33 16.25,10.42 15.91,8.39 C15.44,5.61 13.12,3.39 10.32,3.05 C6.09,2.53 2.53,6.09 3.05,10.32 C3.39,13.12 5.61,15.44 8.39,15.91 C10.42,16.25 12.33,15.63 13.73,14.43 L14,14.71 L14,15.5 L18.25,19.75 C18.66,20.16 19.33,20.16 19.74,19.75 C20.15,19.34 20.15,18.67 19.74,18.26 L15.5,14 Z M9.5,14 C7.01,14 5,11.99 5,9.5 C5,7.01 7.01,5 9.5,5 C11.99,5 14,7.01 14,9.5 C14,11.99 11.99,14 9.5,14 Z",id:"\\uD83D\\uDD39Icon-Color",fill:"#eae6cb"}))))))))},F=o.a.forwardRef((function(e,n){return o.a.createElement(q,C({svgRef:n},e))})),G=(t.p,{red:"#A03A29",yellow:"#E0993D",green:"#2A756B",white:"#eae6cb",black:"#11243A",grayLighter:"#99bdb9",grayLight:"#808E88",gray:"#59706E",grayDark:"#2B3B3A",darken:function(e){return G["".concat(Object.keys(G).find((function(n){return G[n]===e})),"Dark")]||e},lighten:function(e){return G["".concat(Object.keys(G).find((function(n){return G[n]===e})),"Light")]||e}}),K=function(e){var n=e.color,t=void 0===n?G.white:n,r=Object(k.a)(e,["color"]);return Object(E.b)(F,Object.assign({css:Object(E.a)(R||(R=Object(w.a)(["fill: ",""])),t)},r))},Q={Col:Object(c.forwardRef)((function(e,n){var t=e.align,r=void 0===t?"flex-start":t,a=e.valign,i=void 0===a?"flex-start":a,c=Object(k.a)(e,["align","valign"]);return Object(E.b)("div",Object.assign({ref:n,css:Object(E.a)(T||(T=Object(w.a)(["\n    display: flex;\n    flex-direction: column;\n    justify-content: ",";\n    align-movies: ","\n  "])),i,r)},c))})),Row:function(e){var n=e.align,t=void 0===n?"space-between":n,r=e.valign,a=void 0===r?"flex-start":r,i=Object(k.a)(e,["align","valign"]);return Object(E.b)("div",Object.assign({css:Object(E.a)(S||(S=Object(w.a)(["\n    display: flex;\n    justify-content: ",";\n    align-items: ",";\n    >:last-of-type {\n      margin-right: 0 !important;\n    }\n  "])),t,a)},i))}},$=function(e){return Object(E.b)("div",Object.assign({css:Object(E.a)(z||(z=Object(w.a)(["\n    font-family: 'Arial';\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background: ",";\n    color: ",";\n    max-width: 800px;\n    margin: 0 auto;\n    position: relative;\n    \n    header {\n      position: fixed;\n      top: 0;\n      z-index: 1000;\n      width: 100%;\n      max-width: 800px;\n    }\n    \n    div {\n      box-sizing: border-box;\n    }\n\n    label {\n      display: inline-flex;\n      flex-direction: column;\n      color: ",";\n      margin: 0 16px 0 0;\n\n      span:first-of-type {\n        min-height: 19px;\n      }\n    }\n\n    textarea, input {\n      background: ",";\n      color: ",";\n      border-radius: 4px;\n      border: 1px solid ",";\n      padding: 6px 4px 0;\n      min-width: 24px;\n      font-size: 12px;\n      line-height: 16px;\n      font-weight: 700;\n\n      &::placeholder {\n        color: ",";\n        font-weight: 400;\n      }\n\n      &:focus {\n        outline: "," auto 1px;\n      }\n    }\n\n    input {\n      height: 24px;\n    }\n\n    input:disabled {\n      color: ",";\n    }\n\n    .InputDisabled {\n      background: ",';\n      opacity: 0.8;\n      position: absolute;\n      width: 100%;\n      height: 100%;\n      left: 0;\n      top: 0;\n    }\n\n    input[type="checkbox"] {\n      margin: 8px 16px 20px 0;\n    }\n\n    h1, h2, h3, h4, h5 {\n      margin: 0;\n      font-size: 16px;\n      line-height: 1.25;\n    }\n\n    h1 {\n      margin-top: 4px;\n      font-size: 24px;\n    }\n\n    h2 {\n      font-size: 32px;\n      line-height: 0.75;\n      margin: 0 0 8px;\n    }\n\n    h3 {\n      font-size: 16px;\n      color: ',"\n    }\n\n    p {\n      font-size: 16px;\n      line-height: 24px;\n      font-weight: 300;\n      margin: 0 0 8px 0;\n    }\n\n    a, a:visited, a:active {\n      color: inherit;\n      text-decoration: none;\n    }\n    \n    a:hover {\n      text-decoration: underline;\n    }\n\n    @-webkit-keyframes rotate-center {\n      0% {\n        transform: rotate(0);\n      }\n      40% {\n        transform: rotate(360deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n    @keyframes rotate-center {\n      0% {\n        transform: rotate(0);\n      }\n      40% {\n        transform: rotate(360deg);\n      }\n      100% {\n        transform: rotate(360deg);\n      }\n    }\n  "])),G.gray,G.black,G.grayLight,G.white,G.black,G.grayLight,G.gray,G.yellow,G.grayLight,G.gray,G.grayDark)},e))},_=function(e){var n=Object.assign({},e);return Object(E.b)("button",Object.assign({css:Object(E.a)(D||(D=Object(w.a)(["      \n    border-radius: 4px;\n    border: none;\n    font-weight: 500;\n    font-size: 12px;\n    background: none;\n    outline: none;\n    display: flex;\n    justify-content: center;\n    transition: transform 100ms ease-out;\n    padding: 8px;\n    cursor: pointer;\n    \n    *:active, :active {\n      transform: scaleX(0.97);\n    }\n\n    :hover svg path {\n      fill: white;\n    }\n  "])))},n))},ee=t(5),ne=t.n(ee),te=t(7),re=function(e){return Object(E.b)(Q.Col,Object.assign({valign:"space-between",css:Object(E.a)(P||(P=Object(w.a)(["\n      background: ",";\n      color: ",";\n      padding: 0 16px;\n      margin: 0 0 8px 0;\n      border-radius: 4px;\n      box-shadow: 0 2px 4px 0 ","44;\n      position: relative;\n    "])),G.white,G.black,G.grayDark)},e))},ae=function(e){var n=e.title;return Object(E.b)("h2",{css:Object(E.a)(M||(M=Object(w.a)(["\n    color: ",";\n    font-variant: all-small-caps;\n    padding-bottom: 16px;\n  "])),G.gray)},n)},ie=function(e){var n=e.item||{},t=n.Title,r=n.Year,a=n.Poster;return Object(E.b)(re,null,Object(E.b)(Q.Row,{css:Object(E.a)(A||(A=Object(w.a)(["color: ","; margin: 8px 0; font-variant: all-small-caps; font-weight: bold"])),G.grayLight)},Object(E.b)("span",null,r)),"N/A"!==a&&Object(E.b)("div",{css:Object(E.a)(I||(I=Object(w.a)(["max-width: 70%; margin: 0 16px 16px 0;"])))},Object(E.b)("img",{src:a,alt:"".concat(t," poster"),css:Object(E.a)(B||(B=Object(w.a)(["height: 100%"])))})),Object(E.b)(ae,{title:t}))},ce=Object(c.forwardRef)((function(e,n){return Object(E.b)("div",Object.assign({ref:n,css:Object(E.a)(N||(N=Object(w.a)(["\n  padding: 68px 4px 64px;\n  display: flex;\n  flex-direction: column;\n  "])))},e))})),oe=function(){return Object(E.b)("span",{css:Object(E.a)(H||(H=Object(w.a)(["\n    padding: 5vh 12px;\n    font-weight: 700;\n    font-size: 32px;\n    line-height: 48px;\n    color: ",";\n  "])),G.white)},":(",Object(E.b)("br",null),"Nothing found.",Object(E.b)("br",null),"Try a different title.")},se=function(){return Object(E.b)("span",{css:Object(E.a)(J||(J=Object(w.a)(["\n  padding: 5vh 12px;\n  font-weight: 700;\n  font-size: 32px;\n  line-height: 48px;\n  color: ",";\n  text-align: center;\n  animation: rotate-center 1.6s ease-in-out 1s infinite;\n"])),G.white)},"loading...")},le=function(){return Object(E.b)("span",{css:Object(E.a)(Z||(Z=Object(w.a)(["\n  padding: 5vh 12px;\n  font-weight: 700;\n  font-size: 32px;\n  line-height: 48px;\n  color: ",";\n"])),G.white)},"Start browsing by using the input above")},ue=function(e){var n=e.error;return Object(E.b)("span",{css:Object(E.a)(U||(U=Object(w.a)(["\n    padding: 5vh 12px;\n    font-weight: 700;\n    font-size: 32px;\n    line-height: 48px;\n    color: ",";\n  "])),G.red)},":(",Object(E.b)("br",null),"Error",Object(E.b)("br",null),n)},be=function(e){var n=e.useMovieListContext,t=Object(c.useRef)(null),r=n(),a=r.movies,i=r.searchTerm,o=r.busy,s=r.error,l=r.nextPage,u=(!a||!a.length)&&i&&!o&&!s,b=!u&&!o&&!i;return Object(E.b)(ce,{ref:t},s&&!o&&!b&&Object(E.b)(ue,{error:s}),u&&Object(E.b)(oe,null),o&&Object(E.b)(se,null),b&&Object(E.b)(le,null),!b&&a.map((function(e,n){return Object(E.b)(ie,{key:n,item:e})})),!b&&a&&!!a.length&&Object(E.b)((function(){return Object(E.b)(_,{onClick:function(){l&&(l(),t.current.scrollIntoView())},css:Object(E.a)(V||(V=Object(w.a)(["\n        color: ","; \n        font-weight: bold;\n      "])),G.yellow)},l?"Next page":"No more results")}),null))},fe=function(e){var n=e.DataService,t=function(){var e=y(),t=e.state,r=e.actions,a=t.movieList,i=a.searchResults,o=a.searchTerm,s=a.page,l=a.total,b=r.movieList.setPage,f=Object(c.useState)(!1),p=Object(u.a)(f,2),g=p[0],h=p[1],d=Object(c.useState)(null),j=Object(u.a)(d,2),O=j[0],m=j[1],v=Object(c.useRef)(n.fetchMovies),x=Object(c.useRef)(r.movieList.setMovies),w=function(e,n){var t=Object(c.useState)(e),r=Object(u.a)(t,2),a=r[0],i=r[1];return Object(c.useEffect)((function(){var t=setTimeout((function(){i(e)}),n);return function(){clearTimeout(t)}}),[e,n]),a}(o,500);return Object(c.useEffect)((function(){!w||w.length<3||function(){var e=Object(te.a)(ne.a.mark((function e(){var n,t,r,a;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x.current({movies:[],total:0}),h(!0),e.next=4,v.current({searchTerm:w.trim(),page:s});case 4:n=e.sent,t=n.movies,r=n.total,a=n.error,x.current({movies:t,total:r}),m(a||null),h(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[v,x,w,s]),{movies:i||[],searchTerm:w,busy:g,error:O,nextPage:10*s<l?function(){return b(s+1)}:null}};return function(){return o.a.createElement(be,{useMovieListContext:t})}},pe=function(e){return Object(E.b)("div",Object.assign({css:Object(E.a)(W||(W=Object(w.a)(["\n  background: ",";\n  color: ",";\n  padding: 12px 16px;\n  box-shadow: 0 0 4px #000;\n  display: flex;\n  justify-content: space-between;\n  "])),G.black,G.white)},e))},ge=function(){return Object(E.b)("a",{href:"/"},Object(E.b)("h1",{css:Object(E.a)(X||(X=Object(w.a)(["\n      display: inline-flex;\n      flex-direction: column; \n      margin: 0;\n      padding: 0;\n      font-size: 24px;\n      line-height: 1.5;\n    "])))},"movieser"))},he=function(e){return Object(E.b)("div",{css:Object(E.a)(Y||(Y=Object(w.a)(["display: flex; align-items: center;"])))},Object(E.b)("input",Object.assign({type:"text",placeholder:"Enter movie title..."},e)),Object(E.b)(_,null,Object(E.b)(K,null)))},de=function(e){var n=(0,e.useHeaderContext)(),t=n.searchTerm,r=n.search;return Object(E.b)(pe,null,Object(E.b)(ge,null),Object(E.b)(he,{value:t,onChange:function(e){return r(e.target.value)}}))},je={fetchMovies:function(){var e=Object(te.a)(ne.a.mark((function e(n){var t,r,a,i,c;return ne.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.searchTerm,r=n.page,a=void 0===r?1:r,t){e.next=3;break}return e.abrupt("return",{movies:[],total:0});case 3:return e.prev=3,e.next=6,fetch("https://www.omdbapi.com/?s=".concat(encodeURIComponent(t),"&page=").concat(a,"&apikey=a8d23117"));case 6:return i=e.sent,e.next=9,i.json();case 9:if("True"!==(c=e.sent).Response){e.next=14;break}return e.abrupt("return",{movies:c.Search,total:c.totalResults});case 14:return e.abrupt("return",{movies:[],total:0,error:c.Error});case 15:e.next=21;break;case 17:return e.prev=17,e.t0=e.catch(3),console.log("fetch error"),e.abrupt("return",{movies:[],total:0,error:"Error while fetching data"});case 21:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(n){return e.apply(this,arguments)}}()},Oe=function(){var e=fe({DataService:je}),n=function(){var e=function(){var e=y(),n=e.state,t=e.actions;return{searchTerm:n.movieList.searchTerm,search:function(e){return t.movieList.setSearchTerm({term:e})}}};return function(){return o.a.createElement(de,{useHeaderContext:e})}}();return o.a.createElement(x,null,o.a.createElement($,null,o.a.createElement("header",null,o.a.createElement(n,null)),o.a.createElement("main",null,o.a.createElement(e,null))))};l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(Oe,null)),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.5519017e.chunk.js.map